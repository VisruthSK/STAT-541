{
  "hash": "ee52205562e52bfc32c7d443fcd4610a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 8\"\nauthor: Visruth and Matt\ndescription: \"Cheese, Gromit!\"\ndate: \"2025.05.27\"\n---\n\n> **Goal:** Scrape information from <https://www.cheese.com> to obtain a dataset\n> of characteristics about different cheeses, and gain deeper insight into your\n> coding process. ðŸª¤\n\n**Part 1:** Locate and examine the `robots.txt` file for this website. Summarize\nwhat you learn from it.\n\nThe `robots.txt` file only had two lines. It read: `User-agent: *\nSitemap: https://www.cheese.com/sitemap.xml`. This means that is has no restrictions. Presumably this is because it is a relatively low-traffic website.\n\n**Part 2:** Learn about the `html_attr()` function from `rvest`. Describe how\nthis function works with a small example.\n\nThis function gets the attributes associated with some HTML elements.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(rvest)\n\nread_html(\"https://www.cheese.com/alphabetical/?per_page=100\") |>\n  html_nodes(\".product-img a img\") |>\n  html_attr(\"class\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  [1] \"image-exists\"  \"image-missing\" \"image-exists\"  \"image-exists\" \n  [5] \"image-exists\"  \"image-exists\"  \"image-missing\" \"image-exists\" \n  [9] \"image-exists\"  \"image-exists\"  \"image-exists\"  \"image-missing\"\n [13] \"image-missing\" \"image-exists\"  \"image-missing\" \"image-missing\"\n [17] \"image-exists\"  \"image-missing\" \"image-exists\"  \"image-missing\"\n [21] \"image-missing\" \"image-missing\" \"image-missing\" \"image-exists\" \n [25] \"image-exists\"  \"image-exists\"  \"image-missing\" \"image-missing\"\n [29] \"image-missing\" \"image-missing\" \"image-missing\" \"image-missing\"\n [33] \"image-exists\"  \"image-missing\" \"image-missing\" \"image-exists\" \n [37] \"image-missing\" \"image-missing\" \"image-missing\" \"image-exists\" \n [41] \"image-exists\"  \"image-exists\"  \"image-exists\"  \"image-exists\" \n [45] \"image-exists\"  \"image-exists\"  \"image-exists\"  \"image-missing\"\n [49] \"image-missing\" \"image-missing\" \"image-missing\" \"image-missing\"\n [53] \"image-missing\" \"image-missing\" \"image-missing\" \"image-exists\" \n [57] \"image-missing\" \"image-missing\" \"image-exists\"  \"image-missing\"\n [61] \"image-missing\" \"image-missing\" \"image-missing\" \"image-missing\"\n [65] \"image-exists\"  \"image-missing\" \"image-exists\"  \"image-exists\" \n [69] \"image-missing\" \"image-missing\" \"image-missing\" \"image-exists\" \n [73] \"image-missing\" \"image-missing\" \"image-missing\" \"image-exists\" \n [77] \"image-exists\"  \"image-exists\"  \"image-missing\" \"image-missing\"\n [81] \"image-exists\"  \"image-exists\"  \"image-missing\" \"image-missing\"\n [85] \"image-exists\"  \"image-exists\"  \"image-missing\" \"image-missing\"\n [89] \"image-exists\"  \"image-missing\" \"image-missing\" \"image-exists\" \n [93] \"image-exists\"  \"image-missing\" \"image-missing\" \"image-missing\"\n [97] \"image-exists\"  \"image-missing\" \"image-missing\" \"image-missing\"\n```\n\n\n:::\n:::\n\n\nThis small example demonstrates how to get whether the image exists for each cheese.\n\n**Part 3:** (Do this alongside Part 4 below.) I \nused [ChatGPT](https://chat.openai.com/chat) to start the process of scraping\ncheese information with the following prompt:\n\n> Write R code using the rvest package that allows me to scrape cheese\n> information from cheese.com.\n\nFully document your process of checking this code. Record any observations you\nmake about where ChatGPT is useful / not useful.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load required libraries\nlibrary(rvest)\nlibrary(dplyr)\n\n# Define the URL\nurl <- \"https://www.cheese.com/alphabetical\"\n\n# Read the HTML content from the webpage\nwebpage <- read_html(url)\n\n# Extract the cheese names and URLs\ncheese_data <- webpage |>\n  html_nodes(\".cheese-item\") |>\n  html_nodes(\"a\") |>\n  html_attr(\"href\") |>\n  paste0(\"https://cheese.com\", .)\n\ncheese_names <- webpage |>\n  html_nodes(\".cheese-item h3\") |>\n  html_text()\n\n# Create a data frame to store the results\ncheese_df <- data.frame(\n  Name = cheese_names,\n  URL = cheese_data,\n  stringsAsFactors = FALSE\n)\n\n# Print the data frame\nprint(cheese_df)\n```\n:::\n\n\nThe structure is nominally useful though the LLM appears to be guessing and can't access the page structure.\n\nThe code is easy to read and is transparent for a reader to understand, but it isn't very efficient. The verboseness is communicative, though ultimately unnecessary.\n\n**Part 4:** Obtain the following information for **all** cheeses in the\ndatabase:\n\n-   cheese name\n-   URL for the cheese's webpage (e.g., <https://www.cheese.com/gouda/>)\n-   whether or not the cheese has a picture (e.g., \n[gouda](https://www.cheese.com/gouda/) has a picture, but \n[bianco](https://www.cheese.com/bianco/) does not).\n\nTo be kind to the website owners, please add a 1 second pause between page\nqueries. (Note that you can view 100 cheeses at a time.)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nparse_page <- function(url, delay = 1) {\n  Sys.sleep(delay)\n\n  # cheese product listings\n  cheeses <- read_html(url) |>\n    html_nodes(\".product-item\")\n\n  # temp object that's used twice\n  temp_cheese_data <- cheeses |>\n    html_nodes(\"h3 a\")\n\n  # building tibble\n  tibble(\n    cheese = temp_cheese_data |> html_text(),\n    url = temp_cheese_data |>\n      html_attr(\"href\") |>\n      (\\(slug) glue::glue(\"https://www.cheese.com{slug}\"))(),\n    has_image = cheeses |>\n      html_nodes(\".product-img a img\") |>\n      html_attr(\"class\") |>\n      str_detect(\"image-exists\")\n  )\n}\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# can't run this on last page--will find number of pages to parse automatically.\nnum_pages <- \"https://www.cheese.com/alphabetical/?per_page=100\" |>\n  read_html() |>\n  html_nodes(\".pagination a\") |>\n  html_text() |>\n  last() |>\n  as.numeric()\n# NOTE: this seems like a simple pattern so there might already be a function which does this\n\ncheeses <- paste0(\n  \"https://www.cheese.com/alphabetical/?per_page=100&page=\",\n  1:num_pages\n) |>\n  map_df(parse_page)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gt)\n\ncheeses |>\n  sample_n(10) |>\n  gt() |>\n  tab_header(\n    title = \"10 Random Cheeses\"\n  ) |>\n  cols_label(cheese = \"Cheese\", url = \"URL\", has_image = \"Image Available?\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"tamcesxxya\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#tamcesxxya table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#tamcesxxya thead, #tamcesxxya tbody, #tamcesxxya tfoot, #tamcesxxya tr, #tamcesxxya td, #tamcesxxya th {\n  border-style: none;\n}\n\n#tamcesxxya p {\n  margin: 0;\n  padding: 0;\n}\n\n#tamcesxxya .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#tamcesxxya .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#tamcesxxya .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#tamcesxxya .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#tamcesxxya .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#tamcesxxya .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#tamcesxxya .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#tamcesxxya .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#tamcesxxya .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#tamcesxxya .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#tamcesxxya .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tamcesxxya .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#tamcesxxya .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#tamcesxxya .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#tamcesxxya .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tamcesxxya .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#tamcesxxya .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#tamcesxxya .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#tamcesxxya .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tamcesxxya .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#tamcesxxya .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tamcesxxya .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#tamcesxxya .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tamcesxxya .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tamcesxxya .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tamcesxxya .gt_left {\n  text-align: left;\n}\n\n#tamcesxxya .gt_center {\n  text-align: center;\n}\n\n#tamcesxxya .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#tamcesxxya .gt_font_normal {\n  font-weight: normal;\n}\n\n#tamcesxxya .gt_font_bold {\n  font-weight: bold;\n}\n\n#tamcesxxya .gt_font_italic {\n  font-style: italic;\n}\n\n#tamcesxxya .gt_super {\n  font-size: 65%;\n}\n\n#tamcesxxya .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#tamcesxxya .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#tamcesxxya .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#tamcesxxya .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#tamcesxxya .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#tamcesxxya .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#tamcesxxya .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#tamcesxxya .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#tamcesxxya div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>10 Random Cheeses</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"cheese\">Cheese</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"url\">URL</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"has_image\">Image Available?</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Pecorino alla Canapa</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/pecorino-all-canapa/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">TRUE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Schloss</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/schloss/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">FALSE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Cahill's Irish Porter Cheddar</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/cahills-irish-porter-cheddar/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">TRUE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Golden Hooves Vintage Cheddar</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/golden-hooves-vintage-cheddar/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">TRUE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Capra Nouveau</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/capra-nouveau/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">FALSE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Isle of Man Cracked Peppercorn</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/isle-of-man-cracked-peppercorn/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">FALSE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">CrÃ©MontÃ© </td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/cremonte/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">FALSE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Lord of the Hundreds</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/lord-hundreds/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">TRUE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Ficaccio</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/ficaccio/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">FALSE</td></tr>\n    <tr><td headers=\"cheese\" class=\"gt_row gt_left\">Leafield</td>\n<td headers=\"url\" class=\"gt_row gt_center\">https://www.cheese.com/leafield/</td>\n<td headers=\"has_image\" class=\"gt_row gt_center\">FALSE</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n**Part 5:** When you go to a particular cheese's page (like \n[gouda](https://www.cheese.com/gouda/)), you'll see more detailed information\nabout the cheese. For [**just 10**]{.underline} of the cheeses in the database,\nobtain the following detailed information:\n\n-   milk information\n-   country of origin\n-   family\n-   type\n-   flavour\n\n(Just 10 to avoid overtaxing the website! Continue adding a 1 second pause\nbetween page queries.)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheese_list <- c(\n  \"https://www.cheese.com/paneer/\",\n  \"https://www.cheese.com/chevre-en-marinade/\",\n  \"https://www.cheese.com/chevre-log/\",\n  \"https://www.cheese.com/goat-gouda/\",\n  \"https://www.cheese.com/gotcha-gouda/\",\n  \"https://www.cheese.com/gouda/\",\n  \"https://www.cheese.com/camembert-des-camarades/\",\n  \"https://www.cheese.com/camembert-de-portneuf/\",\n  \"https://www.cheese.com/camembert-de-normandie/\",\n  \"https://www.cheese.com/camembert/\"\n)\n\n# parses a cheese.com url by returning pertinent information about provided cheese\nparse_cheese <- function(url, delay = 1) {\n  Sys.sleep(delay)\n\n  raw_info <- read_html(url) |>\n    html_nodes(\".panel-body ul li\") |>\n    html_text(trim = TRUE)\n\n  # Extract remaining fields that use a colon\n  raw_info[grepl(\":\", raw_info)] |>\n    str_split_fixed(\":\", 2) |>\n    as_tibble() |>\n    rename(field = V1, value = V2) |>\n    mutate(\n      field = str_trim(tolower(field)),\n      value = str_trim(value)\n    ) |>\n    filter(field %in% c(\"country of origin\", \"family\", \"type\", \"flavour\")) |>\n    pivot_wider(\n      names_from = field,\n      values_from = value\n    ) |>\n    mutate(\n      Milk = str_remove(raw_info[grepl(\"^Made from\", raw_info)], \"^Made from \"),\n      .before = `country of origin`\n    )\n}\n\ncheese_details <- map_dfr(cheese_list, parse_cheese)\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncheese_details |>\n  mutate(\n    Cheese = str_to_title(\n      basename(cheese_list) |> str_replace_all(\"-\", \" \")\n    ),\n    .before = Milk\n  ) |>\n  gt() |>\n  cols_label(\n    `country of origin` = \"Country\",\n    family = \"Family\",\n    type = \"Type\",\n    flavour = \"Flavour\"\n  ) |>\n  tab_header(\n    title = \"Details on 10 Cheeses\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"meazmsmekc\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#meazmsmekc table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#meazmsmekc thead, #meazmsmekc tbody, #meazmsmekc tfoot, #meazmsmekc tr, #meazmsmekc td, #meazmsmekc th {\n  border-style: none;\n}\n\n#meazmsmekc p {\n  margin: 0;\n  padding: 0;\n}\n\n#meazmsmekc .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#meazmsmekc .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#meazmsmekc .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#meazmsmekc .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#meazmsmekc .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#meazmsmekc .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#meazmsmekc .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#meazmsmekc .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#meazmsmekc .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#meazmsmekc .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#meazmsmekc .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#meazmsmekc .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#meazmsmekc .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#meazmsmekc .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#meazmsmekc .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#meazmsmekc .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#meazmsmekc .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#meazmsmekc .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#meazmsmekc .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#meazmsmekc .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#meazmsmekc .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#meazmsmekc .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#meazmsmekc .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#meazmsmekc .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#meazmsmekc .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#meazmsmekc .gt_left {\n  text-align: left;\n}\n\n#meazmsmekc .gt_center {\n  text-align: center;\n}\n\n#meazmsmekc .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#meazmsmekc .gt_font_normal {\n  font-weight: normal;\n}\n\n#meazmsmekc .gt_font_bold {\n  font-weight: bold;\n}\n\n#meazmsmekc .gt_font_italic {\n  font-style: italic;\n}\n\n#meazmsmekc .gt_super {\n  font-size: 65%;\n}\n\n#meazmsmekc .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#meazmsmekc .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#meazmsmekc .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#meazmsmekc .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#meazmsmekc .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#meazmsmekc .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#meazmsmekc .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#meazmsmekc .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#meazmsmekc div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"6\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Details on 10 Cheeses</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Cheese\">Cheese</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Milk\">Milk</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"country-of-origin\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"family\">Family</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"type\">Type</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"flavour\">Flavour</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Paneer</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">pasteurized cow's or water buffalo's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">Bangladesh and India</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Cottage</td>\n<td headers=\"type\" class=\"gt_row gt_left\">fresh firm</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">milky</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Chevre En Marinade</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">pasteurized goat's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"family\" class=\"gt_row gt_left\">NA</td>\n<td headers=\"type\" class=\"gt_row gt_left\">semi-soft, artisan</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">garlicky, herbaceous, spicy</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Chevre Log</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">pasteurized goat's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">France</td>\n<td headers=\"family\" class=\"gt_row gt_left\">NA</td>\n<td headers=\"type\" class=\"gt_row gt_left\">fresh soft</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">citrusy</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Goat Gouda</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">pasteurized goat's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">Netherlands</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Gouda</td>\n<td headers=\"type\" class=\"gt_row gt_left\">semi-hard, artisan</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">tangy</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Gotcha Gouda</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">cow's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Gouda</td>\n<td headers=\"type\" class=\"gt_row gt_left\">semi-hard, artisan</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">sweet, tangy</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Gouda</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">pasteurized or unpasteurized cow's, goat's or sheep's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">Netherlands</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Gouda</td>\n<td headers=\"type\" class=\"gt_row gt_left\">hard</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">full-flavored</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Camembert Des Camarades</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">pasteurized cow's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Camembert</td>\n<td headers=\"type\" class=\"gt_row gt_left\">soft, soft-ripened</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">buttery, nutty, subtle, sweet</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Camembert De Portneuf</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">pasteurized cow's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">Canada</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Camembert</td>\n<td headers=\"type\" class=\"gt_row gt_left\">soft, soft-ripened</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">buttery, creamy</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Camembert De Normandie</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">unpasteurized cow's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">France</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Camembert</td>\n<td headers=\"type\" class=\"gt_row gt_left\">soft, soft-ripened</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">creamy</td></tr>\n    <tr><td headers=\"Cheese\" class=\"gt_row gt_left\">Camembert</td>\n<td headers=\"Milk\" class=\"gt_row gt_left\">cow's milk</td>\n<td headers=\"country of origin\" class=\"gt_row gt_left\">France</td>\n<td headers=\"family\" class=\"gt_row gt_left\">Camembert</td>\n<td headers=\"type\" class=\"gt_row gt_left\">soft, artisan</td>\n<td headers=\"flavour\" class=\"gt_row gt_left\">sweet</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n**Part 6:** Evaluate the code that you wrote in terms of **efficiency**. To\nwhat extent do your function(s) adhere to the **principles for writing good functions**?\nTo what extent are your **functions efficient**? To what extent is your \n**iteration of these functions efficient**? \n\nThe code is efficient. There are few objects saved and pipelines are used extensively to further that goal. Furthermore, leveraging Quarto's design, we can further bolster efficiency by selectively caching the output of a few cells and make a nice space/time deal--scraping the data takes time due to the number of pages that need to be scraped, so we elected to cache those outputs. Of course, our code still has to run once, but since the targets seem to be static, this allows us to spend some memory to speed up execution time. Since we are caching, we save two objects so as to obviate scraping the site again.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}